<!DOCTYPE html>
<html>
<head>
	<title>Student Page</title>

	<!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">

	<!-- Compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

	<!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

	<!-- Moment.js -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
	
</head>
<body>

<div class="container">

	<div class="row">
		<div class="col s12 center-align">
			<h1>Student Page</h1>
		</div>
	</div>

	<div class="row">
		<table class="highlight">
			<thead>
				<tr>
					<th data-field="id">Teacher</th>
					<th data-field="name">Time</th>
					<th data-field="price">Reserve</th>
				</tr>
			</thead>
			<tbody id="tableBody">
			</tbody>
		</table>
	</div>

</div>

<script type="text/javascript">

	$(document).ready(function() {

		var originURL = document.location.origin;     
	 	$.ajax({url: originURL + '/api/teacher', method: 'GET'}).done(function(response) {

	 		for (var i = 0; i < response.length; i++){

		 		var tr = $('<tr>')

		 		var nameTD = $('<td>')
		 		nameTD.text(response[i].teacher)

		 		var formattedTime = moment(response[i].time).format("dddd MMM Do, h:mma")

		 		var timeTD = $('<td>')
		 		// timeTD.text(response[i].time)
		 		timeTD.text(formattedTime)

		 		var buttonTD = $('<td>')
		 		buttonTD.append('<a class="waves-effect waves-light btn">button</a>')

		 		tr.append(nameTD)
		 		tr.append(timeTD)
		 		tr.append(buttonTD)

			    $('#tableBody').append(tr)
		 	};

	 	})

	});



</script>

</body>
</html>